name: CI/CD Pipeline

on:
  push:
    branches:
      - main
  
  pull_request:
    branches:
      - main

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    
    - name: Checkout code
      uses: actions/checkout@v2

      
    - name: Set up Python
      uses: actions/setup-python@v2
      with:
        python-version: '3.12'

      
    - name: run aks all in one
      run: |
        kubectl apply -f src/aks-store-all-in-one.yaml

   # - name: Build Docker image
   #   run: |
   #     docker build -t grupo5sd/projeto:${{ github.sha }} .
   #     echo $DOCKERHUB_PASSWORD | docker login -u $DOCKERHUB_USERNAME --password-stdin
   #     docker push grupo5sd/projeto:${{ github.sha }}

      
    #- name: Deploy to k3s
    #  run: |
    #    kubectl apply -f k3s/deployment.yaml


        